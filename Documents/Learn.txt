https://www.bilibili.com/video/av28871471?p=9 Django 接口

https://www.bilibili.com/video/BV1KE41117XV?p=29 flutter

决定重新开始学习.
1.django-admin startproject psite
python manage.py startapp app01

URL: url(r'students/', views.StudentsView.as_view()),
View:
class StudentsView(View): #实现请求中事先或者事后做点什么.
    def dispatch(self, request , *args, **kwargs):
        print('before')
        ret = super(StudentsView,self).dispatch(request , *args , **kwargs)
        print('after')
        return ret 

    def get(self,request , *args, **kwargs):
        user_list = ["dddd","aaaaa"]
        rt = LHKit.LHResult()
        rt['data'] = user_list
        return HttpResponse( json.dumps( rt ) )
    def post(self,request , *args, **kwargs):
        user_list = ["Post","Post"]
        rt = LHKit.LHResult()
        rt['data'] = user_list
        return HttpResponse( json.dumps( rt ) )
@csrf_except # 打开'django.middleware.csrf.CsrfViewMiddleware'的时候,装饰者不需要认证.
@csrf_protect # 关闭'django.middleware.csrf.CsrfViewMiddleware'的时候,装饰着需要认证.

CBV模式下免除验证
from django.utils.decorators import method_decorator
from django.views.decorators.csrf import csrf_exempt,csrf_protect

    @method_decorator(csrf_exempt)
    def dispatch(self, request , *args, **kwargs):
        print('before')
        ret = super(StudentsView,self).dispatch(request , *args , **kwargs)
        print('after')
        return ret 
或者
@method_decorator(csrf_exempt, name = "dispatch")

